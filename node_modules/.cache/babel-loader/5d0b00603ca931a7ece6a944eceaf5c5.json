{"ast":null,"code":"import { time } from '../frameloop/sync-time.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n/**\n * Timeout defined in ms\n */\n\nfunction delay(callback, timeout) {\n  var start = time.now();\n\n  var checkElapsed = function checkElapsed(_ref) {\n    var timestamp = _ref.timestamp;\n    var elapsed = timestamp - start;\n\n    if (elapsed >= timeout) {\n      cancelFrame(checkElapsed);\n      callback(elapsed - timeout);\n    }\n  };\n\n  frame.read(checkElapsed, true);\n  return function () {\n    return cancelFrame(checkElapsed);\n  };\n}\n\nexport { delay };","map":null,"metadata":{},"sourceType":"module"}