{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\wilfr\\\\OneDrive\\\\Documents\\\\maxitapbotlatestversionv2\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import{useUser}from'../context/userContext';import{MdOutlineKeyboardArrowRight}from'react-icons/md';import{db}from'../firebase/firestore';import{doc,updateDoc}from'firebase/firestore';import{IoClose}from'react-icons/io5';import{FaCheck}from\"react-icons/fa6\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var exchangesList=[{name:\"Binance vendor\",icon:\"/binance.webp\",id:\"binance\"},{name:\"Bybit vendor\",icon:\"/bybit.webp\",id:\"bybit\"},{name:\"MEXC vendor\",icon:\"/mexc.webp\",id:\"mexc\"},{name:\"Kukoin vendor\",icon:\"/kukoin.webp\",id:\"kukoin\"},{name:\"OKX vendor\",icon:\"/okx.webp\",id:\"okx\"},{name:\"BingX vendor\",icon:\"/bingx.webp\",id:\"bingx\"},{name:\"Gateio vendor\",icon:\"/gateio.webp\",id:\"gateio\"},{name:\"HTX vendor\",icon:\"/htx.webp\",id:\"htx\"},{name:\"Bitget vendor\",icon:\"/bitget.webp\",id:\"bitget\"}];var Exchanges=function Exchanges(_ref){var showExchange=_ref.showExchange,setShowExchange=_ref.setShowExchange;var _useUser=useUser(),id=_useUser.id,selectedExchange=_useUser.selectedExchange,setSelectedExchange=_useUser.setSelectedExchange;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),exchangeDetails=_useState4[0],setExchangeDetails=_useState4[1];useEffect(function(){var handleBackButtonClick=function handleBackButtonClick(){setShowExchange(false);};if(showExchange){window.Telegram.WebApp.BackButton.show();window.Telegram.WebApp.BackButton.onClick(handleBackButtonClick);}else{window.Telegram.WebApp.BackButton.hide();window.Telegram.WebApp.BackButton.offClick(handleBackButtonClick);}return function(){window.Telegram.WebApp.BackButton.offClick(handleBackButtonClick);};},[showExchange,setShowExchange]);var handleExchangeSelect=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(exchange){var now;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(selectedExchange===exchange.name)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:now=new Date();localStorage.setItem('currentTime',now.toISOString());_context.prev=4;_context.next=7;return updateDoc(doc(db,\"telegramUsers\",id),{selectedExchange:{id:exchange.id,name:exchange.name,icon:exchange.icon}});case 7:setSelectedExchange({id:exchange.id,icon:exchange.icon,name:exchange.name});setExchangeDetails(exchange);setModal(true);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](4);console.error(\"Error updating document: \",_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[4,12]]);}));return function handleExchangeSelect(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){if(selectedExchange){var selectedExchangeDetails=exchangesList.find(function(exchange){return exchange.id===selectedExchange;});// eslint-disable-next-line\nsetExchangeDetails(selectedExchangeDetails||{});}// eslint-disable-next-line\n},[selectedExchange]);var closeExchange=function closeExchange(){setShowExchange(false);setModal(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[showExchange&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed left-0 right-0 z-20 top-[-12px] bottom-0 flex justify-center taskbg px-[16px] h-full\",children:/*#__PURE__*/_jsx(\"div\",{id:\"refer\",className:\"w-full flex flex-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex pt-6 flex-col space-y-6 overflow-y-auto pb-[100px] scroller\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-semibold text-[24px] text-center pb-4\",children:\"Choose exchange\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex flex-col pb-[100px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full flex-col space-y-2\",children:exchangesList.map(function(exchange,index){return/*#__PURE__*/_jsxs(\"button\",{disabled:selectedExchange.id===exchange.id,onClick:function onClick(){return handleExchangeSelect(exchange);},className:\"text-[15px] text-[#d2d2d2] bg-cards3 hover:bg-cards ease-in duration-200 h-[60px] rounded-[14px] px-4 flex justify-between items-center \".concat(selectedExchange.id===exchange.id?'bg-cards':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-[35px] mr-4\",children:/*#__PURE__*/_jsx(\"img\",{id:exchange.id,src:exchange.icon,alt:exchange.name,className:\"w-full\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"flex flex-1 font-semibold text-[16px]\",children:exchange.name}),selectedExchange.id===exchange.id?/*#__PURE__*/_jsx(FaCheck,{size:24,className:\"text-[#959595]\"}):/*#__PURE__*/_jsx(MdOutlineKeyboardArrowRight,{size:30,className:\"text-[#959595]\"})]},index);})})})]})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(modal?\"visible\":\"invisible\",\" fixed top-[-12px] bottom-0 left-0 z-40 right-0 h-[100vh] bg-[#00000042] flex justify-center items-center backdrop-blur-[6px] px-4\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(modal?\"opacity-100 mt-0 ease-in duration-300\":\"opacity-0 mt-[100px]\",\" w-full bg-modal relative rounded-[16px] flex flex-col justify-center p-8\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-center flex-col items-center space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeExchange,className:\"flex items-center justify-center absolute right-8 top-8 text-center rounded-[12px] font-medium text-[16px]\",children:/*#__PURE__*/_jsx(IoClose,{size:24,className:\"text-[#9a96a6]\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full items-center justify-center flex flex-col pt-[20px]\",children:/*#__PURE__*/_jsx(\"span\",{className:\"w-[90px] h-[90px] bg-[#a5a5a526] rounded-full flex items-center justify-center p-2\",children:/*#__PURE__*/_jsx(\"img\",{id:selectedExchange.id,src:selectedExchange.icon,alt:selectedExchange.name,className:\"w-[60px]\"})})}),/*#__PURE__*/_jsxs(\"h3\",{className:\"font-medium text-[18px] px-2 pt-2 !mt-[2px] text-center\",children:[\"You have signed a contract with \",/*#__PURE__*/_jsx(\"span\",{className:\"text-accent\",children:selectedExchange.name})]}),/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center space-x-1 !mt-[4px] pb-1\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-[16px]\",children:[selectedExchange.name,\" says \\\"Goodluck\\uD83D\\uDE0E\\\"\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:closeExchange,className:\"bg-btn4 w-full text-[#000] py-[14px] px-6 flex items-center justify-center text-center rounded-[12px] font-semibold text-[16px]\",children:\"Continue\"})})]})})}),exchangeDetails&&/*#__PURE__*/_jsx(_Fragment,{})]});};export default Exchanges;","map":null,"metadata":{},"sourceType":"module"}