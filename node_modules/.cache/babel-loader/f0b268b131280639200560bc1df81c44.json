{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\wilfr\\\\OneDrive\\\\Documents\\\\maxitapbotlatestversionv2\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import Animate from\"../Components/Animate\";import{NavLink,Outlet}from\"react-router-dom\";import{FaLink}from\"react-icons/fa6\";import{MdOutlineFileUpload}from\"react-icons/md\";import coinsmall from\"../images/coinsmall.webp\";import{useUser}from\"../context/userContext\";import whatsapp from\"../images/whatsapp.svg\";import twitter from\"../images/twitter.svg\";import telegram from\"../images/telegram.svg\";import facebook from\"../images/facebook.svg\";import{RxArrowRight}from\"react-icons/rx\";import{texts}from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Referrals=function Referrals(){var _useUser=useUser(),id=_useUser.id,refBonus=_useUser.refBonus,referrals=_useUser.referrals,loading=_useUser.loading;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),copied=_useState2[0],setCopied=_useState2[1];var copyToClipboard=function copyToClipboard(){// eslint-disable-next-line\nvar reflink=\"https://t.me/\".concat(urls.botUsername,\"?start=r\").concat(id,\"\\nMAX tokens mining is live! Two is better than one!  Join my squad, and let's double the fun (and earnings \\uD83E\\uDD11)! MAX Power Tap! \\uD83D\\uDE80\");if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(reflink).then(function(){setCopied(true);setTimeout(function(){return setCopied(false);},10000);// Reset the copied state after 2 seconds\n}).catch(function(err){console.error(\"Failed to copy text: \",err);});}else{// Fallback method\nvar textArea=document.createElement(\"textarea\");textArea.value=reflink;document.body.appendChild(textArea);textArea.select();try{document.execCommand(\"copy\");setCopied(true);setTimeout(function(){return setCopied(false);},2000);// Reset the copied state after 2 seconds\n}catch(err){console.error(\"Failed to copy\",err);}document.body.removeChild(textArea);}};var formatNumber=function formatNumber(num){if(num<100000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else if(num<1000000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else{return(num/1000000).toFixed(3).replace(\".\",\".\")+\" M\";}};var handleShare=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var shareData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:shareData={title:\"Mine MAX tokens now!\",// eslint-disable-next-line\nurl:\"https://t.me/\".concat(urls.botUsername,\"?start=r\").concat(id,\"\\n \"),// Replace with your link\ntext:\"MAX tokens mining is live! Two is better than one!  Join my squad, and let's double the fun (and earnings ðŸ¤‘)! MAXITAP Power Tap! ðŸš€\"};if(!navigator.share){_context.next=13;break;}_context.prev=2;_context.next=5;return navigator.share(shareData);case 5:console.log(\"Content shared successfully\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.error(\"Error sharing content:\",_context.t0);case 11:_context.next=14;break;case 13:fallbackShare(shareData);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function handleShare(){return _ref.apply(this,arguments);};}();var fallbackShare=function fallbackShare(shareData){var encodedText=encodeURIComponent(// eslint-disable-next-line\n\"\".concat(shareData.url,\" \\nMAX tokens mining is live! Two is better than one!  Join my squad, and let's double the fun (and earnings \\uD83E\\uDD11)! MAXITAP Power Tap! \\uD83D\\uDE80\"));var encodedUrl=encodeURIComponent(shareData.url);var whatsappUrl=\"https://wa.me/?text=\".concat(encodedText);var telegramUrl=\"https://telegram.me/share/url?text=\".concat(encodedText);var twitterUrl=\"https://twitter.com/intent/tweet?text=\".concat(encodedText);var facebookUrl=\"https://www.facebook.com/sharer/sharer.php?u=\".concat(encodedUrl);var fallbackOptions=[{name:\"WhatsApp\",url:whatsappUrl,icon:whatsapp},{name:\"Telegram\",url:telegramUrl,icon:telegram},{name:\"Twitter\",url:twitterUrl,icon:twitter},{name:\"Facebook\",url:facebookUrl,icon:facebook}];var optionsHtml=fallbackOptions.map(function(option){return\"<li key=\\\"\".concat(option.name,\"\\\" style=\\\"display: flex;\\n      flex-direction: column;\\n      justify-content: center;\\n      align-items: center;\\n  \\\"\\\">\\n        <a href=\\\"\").concat(option.url,\"\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\\n        <img alt=\\\"daxy\\\" src=\").concat(option.icon,\" width=\\\"50px\\\"/>\\n        </a>\\n        <span style=\\\"\\n    font-size: 12px;\\n    color: #000;\\n    padding-top: 4px;\\n    font-weight: 500;\\n\\\">\").concat(option.name,\"</span>\\n      </li>\");}).join(\"\");var fallbackHtml=\"\\n     <div id=\\\"fallback-share-popup\\\" style=\\\"z-index:40; position: fixed;top: 0;background:#0000007d;left: 0;right: 0;bottom: 0;display: flex;justify-content: center; align-items: start;\\n     flex-direction: column;\\\"> \\n     <div id=\\\"close-popup-button\\\" style=\\\"\\n    width: 100%;\\n    height: 70%;\\n\\\"></div>\\n     <div style=\\\"background: #fff;padding: 20px 24px;width: 100%;box-shadow: 0 0 10px rgba(0,0,0,0.1);height: 30%;border-top-right-radius: 16px;border-top-left-radius:16px\\\">\\n        <h3 style=\\\" font-size: 18px;\\n        font-weight: 600;\\n        color: #313131;\\n        padding-bottom: 12px;\\n        width: 100%;\\n        text-align: center;\\n        \\\">Share via</h3>\\n        <ul style=\\\"display: flex;\\n        justify-content: space-between;\\n        gap: 10px\\\">\\n          \".concat(optionsHtml,\"\\n        </ul>\\n        \\n        <div style=\\\"\\n    width: 100%;\\n    padding: 30px 10px 0;\\n    display: flex;\\n    justify-content: center;\\n\\\">\\n<button id=\\\"close-popup-button2\\\" style=\\\"\\n    background: #000000d4;\\n    padding: 6px 14px;\\n    font-weight: 500;\\n    border-radius: 6px;\\n\\\">Close</button>\\n</div>\\n\\n      </div>\\n      </div>\\n    \");var fallbackPopup=document.createElement(\"div\");fallbackPopup.innerHTML=fallbackHtml;document.body.appendChild(fallbackPopup);document.getElementById(\"close-popup-button\").onclick=function(){document.getElementById(\"fallback-share-popup\").remove();};document.getElementById(\"close-popup-button2\").onclick=function(){document.getElementById(\"fallback-share-popup\").remove();};};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Animate,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full justify-center flex-col space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex items-center justify-between space-x-[10px] pb-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleShare,className:\"w-[65%] flex space-x-2 text-accent font-medium text-[14px] barTitle bg-cards3 h-[55px] rounded-[10px] px-4 justify-center items-center text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center mt-[-1px]\",children:/*#__PURE__*/_jsx(MdOutlineFileUpload,{size:18,className:\"\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Share invite link\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:copyToClipboard,className:\"w-[35%] flex space-x-2 text-accent font-medium text-[14px] barTitle bg-cards3 h-[55px] rounded-[10px] px-4 justify-center items-center text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(FaLink,{size:18,className:\"\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:copied?/*#__PURE__*/_jsx(\"span\",{children:\"Copied!\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Copy\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex items-center justify-between space-x-3 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[48.5%] flex flex-col text-[#000] font-medium text-[14px] bg-cards h-[85px] rounded-[10px] px-4 py-2 justify-start text-left relative\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"!m-0 font-semibold text-[#fff]\",children:loading?/*#__PURE__*/ // Display loading indicator if data is fetching\n_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"span\",{className:\"animate-pulse text-[18px]\",children:\"checking..\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[22px]\",children:referrals.length}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\" FRENS\"})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] small-text3 text-[#ffffff9e] max-w-[10em]\",children:\"More frens, better rewards\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[48.5%] flex flex-col text-[#000] font-medium text-[14px] bg-cards h-[85px] rounded-[10px] px-4 py-2 justify-start text-left relative\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"!m-0 font-semibold text-[#fff]\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[22px]\",children:formatNumber(refBonus)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[18px]\",children:[\" \",texts.projectSymbol,\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex items-start justify-between\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-[#ffffff9e] small-text3 max-w-[10em]\",children:\"10% of your frens earnings\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold small-text text-[17px] text-[#ffffffe0] pl-1\",children:\"Frens list\"}),/*#__PURE__*/_jsxs(NavLink,{to:\"/rewards\",className:\"bg-cards3 small-text2 font-medium py-2 px-3 text-[#e7e7e7d6] flex items-center space-x-2 text-[14px] text rounded-[6px]\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Claim rewards\"}),\" \",/*#__PURE__*/_jsx(RxArrowRight,{size:14,className:\"text-btn4 mt-[2px]\"})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"refer\",className:\"w-full h-[55vh] scroller rounded-[10px] overflow-y-auto pt-2 pb-[180px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex flex-col space-y-3\",children:loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-[#d0d0d0] w-full text-center\",children:\"checking...\"}):referrals.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-[#d0d0d0] text-center w-full now pt-8 px-5 text-[14px] leading-[24px]\",children:\"You have no frens \\uD83D\\uDC68\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66 Refer your frens and family, get 10% of their earnings & unlock more rewards!\"}):/*#__PURE__*/_jsx(_Fragment,{children:referrals.map(function(user,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cards rounded-[10px] p-[14px] flex flex-wrap justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 flex-col space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-primary pl-1 text-[15px] font-semibold\",children:user.username}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-[14px] text-primary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:user.level.imgUrl,alt:\"bronze\",className:\"w-[18px]\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-secondary\",children:user.level.name}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-[#afafaf] w-[1px] h-[13px] mx-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-[16px]\",children:/*#__PURE__*/_jsx(\"img\",{src:coinsmall,className:\"w-full\",alt:\"coin\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-normal text-primary text-[14px]\",children:formatNumber(user.balance)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[#d5df99] font-semibold text-[14px]\",children:[\"+\",formatNumber(user.balance/100*10)]})]},index);})})})})]}),/*#__PURE__*/_jsx(Outlet,{})]})})});};export default Referrals;","map":null,"metadata":{},"sourceType":"module"}