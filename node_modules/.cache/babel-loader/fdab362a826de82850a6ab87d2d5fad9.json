{"ast":null,"code":"import _classCallCheck from \"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { PanSession } from './PanSession.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nvar asyncHandler = function asyncHandler(handler) {\n  return function (event, info) {\n    if (handler) {\n      frame.postRender(function () {\n        return handler(event, info);\n      });\n    }\n  };\n};\n\nvar PanGesture = /*#__PURE__*/function (_Feature) {\n  _inherits(PanGesture, _Feature);\n\n  var _super = _createSuper(PanGesture);\n\n  function PanGesture() {\n    var _this;\n\n    _classCallCheck(this, PanGesture);\n\n    _this = _super.apply(this, arguments);\n    _this.removePointerDownListener = noop;\n    return _this;\n  }\n\n  _createClass(PanGesture, [{\n    key: \"onPointerDown\",\n    value: function onPointerDown(pointerDownEvent) {\n      this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), {\n        transformPagePoint: this.node.getTransformPagePoint(),\n        contextWindow: getContextWindow(this.node)\n      });\n    }\n  }, {\n    key: \"createPanHandlers\",\n    value: function createPanHandlers() {\n      var _this2 = this;\n\n      var _this$node$getProps = this.node.getProps(),\n          onPanSessionStart = _this$node$getProps.onPanSessionStart,\n          onPanStart = _this$node$getProps.onPanStart,\n          onPan = _this$node$getProps.onPan,\n          onPanEnd = _this$node$getProps.onPanEnd;\n\n      return {\n        onSessionStart: asyncHandler(onPanSessionStart),\n        onStart: asyncHandler(onPanStart),\n        onMove: onPan,\n        onEnd: function onEnd(event, info) {\n          delete _this2.session;\n\n          if (onPanEnd) {\n            frame.postRender(function () {\n              return onPanEnd(event, info);\n            });\n          }\n        }\n      };\n    }\n  }, {\n    key: \"mount\",\n    value: function mount() {\n      var _this3 = this;\n\n      this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", function (event) {\n        return _this3.onPointerDown(event);\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n  }, {\n    key: \"unmount\",\n    value: function unmount() {\n      this.removePointerDownListener();\n      this.session && this.session.end();\n    }\n  }]);\n\n  return PanGesture;\n}(Feature);\n\nexport { PanGesture };","map":null,"metadata":{},"sourceType":"module"}