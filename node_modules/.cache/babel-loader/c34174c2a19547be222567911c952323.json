{"ast":null,"code":"import _slicedToArray from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useUser}from'../context/userContext';import{LuFileSearch}from\"react-icons/lu\";// const history = {\n//     withdrawals: [\n//       {\n//         name: '',\n//         date: new Date(),\n//         amount: 0,\n//         completed: false,\n//       }\n//     ],\n//     deposits: [\n//       {\n//         name: '',\n//         date: new Date(),\n//         amount: 0,\n//         completed: false,\n//       }\n//     ],\n//     swaps: [\n//       {\n//         selectedAssetFromSymbol: 'SOL',\n//         date: new Date(),\n//         swapAmount: 142,\n//         selectedAssetToSymbol: 'TON',\n//         calculatedSwapValue: 3404.23,\n//         completed: true,\n//       },\n//       {\n//         selectedAssetFromSymbol: 'MAX',\n//         date: new Date(),\n//         swapAmount: 5000000,\n//         selectedAssetToSymbol: 'TON',\n//         calculatedSwapValue: 340334.23,\n//         completed: true,\n//       }\n//     ],\n//   }\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserHistory=function UserHistory(){var _useState=useState('withdrawals'),_useState2=_slicedToArray(_useState,2),selectedTab=_useState2[0],setSelectedTab=_useState2[1];var _useUser=useUser(),withdrawals=_useUser.withdrawals,deposits=_useUser.deposits,swaps=_useUser.swaps;var formatDate=function formatDate(dateInput){var date;// Check if dateInput is a Firestore Timestamp\nif(dateInput&&dateInput.seconds){date=new Date(dateInput.seconds*1000);// Convert Firestore timestamp to JS Date object\n}else if(dateInput instanceof Date){date=dateInput;// If it's already a JS Date object\n}else if(typeof dateInput==='string'||typeof dateInput==='number'){date=new Date(dateInput);// If it's an ISO string or a timestamp number\n}else{return'Invalid Date';// Return a placeholder if the dateInput is not valid\n}// Ensure the date is valid\nif(isNaN(date.getTime())){return'Invalid Date';}// Format the date as YYYY-MM-DD HH:mm:ss\nvar year=date.getFullYear();var month=String(date.getMonth()+1).padStart(2,'0');var day=String(date.getDate()).padStart(2,'0');var hours=String(date.getHours()).padStart(2,'0');var minutes=String(date.getMinutes()).padStart(2,'0');var seconds=String(date.getSeconds()).padStart(2,'0');return\"\".concat(year,\"-\").concat(month,\"-\").concat(day,\" \").concat(hours,\":\").concat(minutes,\":\").concat(seconds);};var sortByDate=function sortByDate(array){return array.sort(function(a,b){var dateA=new Date(a.date.seconds?a.date.seconds*1000:a.date).getTime();var dateB=new Date(b.date.seconds?b.date.seconds*1000:b.date).getTime();return dateB-dateA;// Sort descending (most recent first)\n});};var renderWithdrawals=function renderWithdrawals(){if(withdrawals.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-secondary text-[14px] text-center flex pt-6 flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(LuFileSearch,{size:60,className:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"pt-2\",children:\"No records found\"})]});}var sortedWithdrawals=sortByDate(withdrawals);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex flex-col space-y-3\",children:sortedWithdrawals.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col border-b-[1px] border-[#a4a4a423] pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[14px] font-medium text-white flex items-center justify-between pb-[2px]\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",item.name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-500\",children:[\"-\",item.amount]}),\" \",/*#__PURE__*/_jsx(\"span\",{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[12px] text-secondary flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",formatDate(item.date),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",item.completed?'Completed':'Pending']})]})]},index)});})});};var renderDeposits=function renderDeposits(){if(deposits.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-secondary text-[14px] text-center flex pt-6 flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(LuFileSearch,{size:60,className:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"pt-2\",children:\"No records found\"})]});}var sortedDeposits=sortByDate(deposits);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex flex-col space-y-3 pt-2\",children:sortedDeposits.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col border-b-[1px] border-[#a4a4a423] pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[14px] font-medium text-white flex items-center justify-between pb-[2px]\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",item.name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-500\",children:[\"+\",item.amount,\" TON\"]}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[12px] text-secondary flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",formatDate(item.date),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",item.completed?'Completed':'Pending']})]})]},index)});})});};var renderSwaps=function renderSwaps(){if(swaps.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-secondary text-[14px] text-center flex pt-6 flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(LuFileSearch,{size:60,className:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"pt-2\",children:\"No records found\"})]});}var sortedSwaps=sortByDate(swaps);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex flex-col space-y-3\",children:sortedSwaps.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col border-b-[1px] border-[#a4a4a423] pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[12px] text-secondary flex items-center justify-between pb-3\",children:[/*#__PURE__*/_jsx(\"span\",{children:\" From\"}),/*#__PURE__*/_jsx(\"span\",{children:\" To\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[14px] font-medium text-white flex items-center justify-between pb-[2px]\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",item.swapAmount,\" \",item.selectedAssetFromSymbol]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",item.calculatedSwapValue.toFixed(6),\" \",item.selectedAssetToSymbol]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[12px] text-secondary flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",formatDate(item.date),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",item.completed?'Completed':'Pending']})]})]},index);})});};var renderData=function renderData(){switch(selectedTab){case'withdrawals':return renderWithdrawals();case'deposits':return renderDeposits();case'swaps':return renderSwaps();default:return/*#__PURE__*/_jsxs(\"div\",{className:\"text-secondary text-[14px] text-center flex pt-6 flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(LuFileSearch,{size:60,className:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"pt-2\",children:\"No records found\"})]});}};useEffect(function(){// console.log(history.swaps)\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex items-center justify-between border-b-[1px] border-[#a4a4a423] px-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"py-[10px] text-[13px] flex justify-start relative text-start font-medium w-[33%] transition-colors \".concat(selectedTab==='withdrawals'?'text-white after:absolute after:left-0 after:bottom-0 after:w-[85px] after:h-[3px] after:bg-btn4':'text-secondary'),onClick:function onClick(){return setSelectedTab('withdrawals');},children:\"Withdrawals\"}),/*#__PURE__*/_jsx(\"button\",{className:\"py-[10px] text-[13px] font-medium w-[33%] relative flex justify-center transition-colors \".concat(selectedTab==='swaps'?'text-white after:absolute after:bottom-0 after:w-[45px] after:h-[3px] after:bg-btn4':'text-secondary'),onClick:function onClick(){return setSelectedTab('swaps');},children:\"Swaps\"}),/*#__PURE__*/_jsx(\"button\",{className:\"py-[10px] text-[13px] flex justify-end text-end relative font-medium w-[33%] transition-colors \".concat(selectedTab==='deposits'?'text-white after:absolute after:right-0 after:bottom-0 after:w-[60px] after:h-[3px] after:bg-btn4':'text-secondary'),onClick:function onClick(){return setSelectedTab('deposits');},children:\"Deposits\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"refer\",className:\"w-full flex flex-col scroller h-[90vh] overflow-y-auto pb-[250px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-5 pt-4\",children:renderData()})})]});};export default UserHistory;","map":null,"metadata":{},"sourceType":"module"}