{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\wilfr\\\\OneDrive\\\\Documents\\\\maxitapbotlatestversionv2\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState,useRef}from\"react\";import Animate from\"../Components/Animate\";import{NavLink}from\"react-router-dom\";import{useUser}from\"../context/userContext\";import{PiEyeBold,PiEyeSlash}from\"react-icons/pi\";import{PiApproximateEquals}from\"react-icons/pi\";import{doc,updateDoc}from'firebase/firestore';import{db}from'../firebase/firestore';import{Address}from\"../Components/Address\";import axios from\"axios\";import{LuFileClock}from\"react-icons/lu\";import SwapComponent from\"../Components/SwapComponent\";import{IoClose}from\"react-icons/io5\";import{CiNoWaitingSign}from\"react-icons/ci\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Wallet=function Wallet(){var _useUser=useUser(),id=_useUser.id,walletAssets=_useUser.walletAssets,purchasedCards=_useUser.purchasedCards,showBalance=_useUser.showBalance,setShowBalance=_useUser.setShowBalance;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openInfo=_useState2[0],setOpenInfo=_useState2[1];var _useState3=useState({price:59781.25}),_useState4=_slicedToArray(_useState3,2),bitData=_useState4[0],setBitData=_useState4[1];// const [walletAssets, setWalletAssets] = useState([\n//   { symbol: 'USDT', name: 'Tether US', balance: 0, icon: '/tether.webp', price: 1 },\n//   { symbol: 'MAX', name: 'Maxicoin', balance: balance, icon: src={images.tapImage}, price: 0.0004348 },\n//   { symbol: 'TON', name: 'Toncoin', balance: 0, icon: '/ton.png', price: 6.68 },\n//   { symbol: 'NOT', name: 'Notcoin', balance: 0, icon: '/notcoin.jpg', price: 0.01075 },\n//   { symbol: 'BNB', name: 'BNB', balance: 8, icon: '/bnb2.webp', price: 562.36 },\n//   { symbol: 'SOL', name: 'Solana', balance: 0, icon: '/solana.png', price: 143.34 }\n// ]);\n// const history = {\n//   withdrawals: [\n//     {\n//       name: '',\n//       date: new Date(),\n//       amount: 0,\n//       completed: false,\n//     }\n//   ],\n//   deposits: [\n//     {\n//       name: '',\n//       date: new Date(),\n//       amount: 0,\n//       completed: false,\n//     }\n//   ],\n//   swaps: [\n//     {\n//       selectedAssetFromSymbol: '',\n//       date: new Date(),\n//       swapAmount: 0,\n//       selectedAssetToSymbol: '',\n//       calculatedSwapValue: 0,\n//       completed: true,\n//     }\n//   ],\n// }\n// const history = {\n//   withdrawals: [\n//     {\n//       name: '',\n//       date: '',\n//       amount: 0,\n//       completed: false,\n//     }\n//   ],\n//   swaps: [\n//     {\n//       selectedAssetFromSymbol: '',\n//       date: '',\n//       swapAmount: 0,\n//       selectedAssetToSymbol: '',\n//       calculatedSwapValue: 0,\n//       completed: true,\n//     }\n//   ],\n// }\n// Set default selections for from and to assets\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openSwapModal=_useState6[0],setOpenSwapModal=_useState6[1];console.log('cards number is',purchasedCards.length);// const maxPrice = 0.0004348;\nvar calculateTotalUSDTValue=function calculateTotalUSDTValue(){return walletAssets.reduce(function(total,asset){return total+asset.balance*asset.price;},0);};var totalUSDTValue=calculateTotalUSDTValue();// const ngtUsdt = (balance + refBonus) * maxPrice;\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openInfoTwo=_useState8[0],setOpenInfoTwo=_useState8[1];var infoRefTwo=useRef(null);var handleClickOutside=function handleClickOutside(event){if(infoRefTwo.current&&!infoRefTwo.current.contains(event.target)){setOpenInfoTwo(false);}};var cryptoData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://api.coingecko.com/api/v3/coins/bitcoin',{headers:{accept:'application/json','x-cg-demo-api-key':'CG-QswLJD734cRx6UJd1xpamcXX'}}).then(function(response){return setBitData({price:response.data.market_data.current_price.usd});}).catch(function(err){return console.error(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function cryptoData(){return _ref.apply(this,arguments);};}();useEffect(function(){cryptoData();},[]);useEffect(function(){if(openInfoTwo){document.addEventListener('mousedown',handleClickOutside);}else{document.removeEventListener('mousedown',handleClickOutside);}return function(){document.removeEventListener('mousedown',handleClickOutside);};},[openInfoTwo]);var formatNumber=function formatNumber(num){var _num$toString$split$;if(typeof num!==\"number\"){return\"Invalid number\";}if(num<1&&((_num$toString$split$=num.toString().split('.')[1])===null||_num$toString$split$===void 0?void 0:_num$toString$split$.length)>3){return num.toFixed(6).replace(/0+$/,'');}return num.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});};var toggleBalance=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var userRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:userRef=doc(db,'telegramUsers',id.toString());setShowBalance(!showBalance);_context2.prev=2;_context2.next=5;return updateDoc(userRef,{showBalance:!showBalance});case 5:console.log('Toggled visibility successfully');_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](2);console.error('Error updating tap value:',_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[2,8]]);}));return function toggleBalance(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Animate,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full pt-1 justify-center flex-col space-y-3 px-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full text-center flex flex-col items-center justify-center space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full text-left flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-semibold text-[17px] text-center\",children:\"My Assets\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[60%]\",children:/*#__PURE__*/_jsx(Address,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col bg-cards p-4 rounded-[12px] items-start text-left space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center text-[13px] space-x-3 text-[#a4a4a4]\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-[#a4a4a4]\",children:\"Total Assets\"}),showBalance?/*#__PURE__*/_jsx(PiEyeBold,{size:16,className:\"mt-[2px]\",onClick:toggleBalance}):/*#__PURE__*/_jsx(PiEyeSlash,{size:16,className:\"\",onClick:toggleBalance})]}),/*#__PURE__*/_jsxs(NavLink,{to:\"/history\",className:\"flex items-center space-x-[2px] text-[12px] mt-2 text-[#a4a4a4]\",children:[/*#__PURE__*/_jsx(LuFileClock,{size:14,className:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"History\"})]})]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-[30px] leading-[0]\",children:showBalance?formatNumber(totalUSDTValue):'******'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[13px] mt-2\",children:\"USDT\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center space-x-1 text-[13px]\",children:[/*#__PURE__*/_jsx(PiApproximateEquals,{size:10,className:\"\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"\",children:[showBalance?formatNumber(totalUSDTValue/bitData.price):'******',\" BTC\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 pt-[2px] justify-between items-center w-full\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setOpenInfo(true);},className:\"w-[32%] bg-cards px-4 py-[10px] text-primary text-[12px] space-y-1 rounded-[8px] flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/withdraw.svg\",alt:\"withdraw\",className:\"w-[24px] h-[24px]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Withdraw\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setOpenSwapModal(true);},className:\"w-[32%] bg-cards px-4 py-[10px] text-primary text-[12px] space-y-1 rounded-[8px] flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/convert.webp\",alt:\"convert\",className:\"w-[20px] h-[20px]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Swap\"})]}),/*#__PURE__*/_jsxs(NavLink,{to:\"/qualify\",className:\"w-[32%] bg-cards px-4 py-[10px] text-primary text-[12px] space-y-1 rounded-[8px] flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/gift.svg\",alt:\"tarnsfer\",className:\"w-[24px] h-[24px]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Airdrop\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full pt-5 text-left flex justify-start\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"font-semibold text-[17px] text-center\",children:\"Balances\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"refer\",className:\"w-full flex flex-col space-y-[10px] scroller overflow-y-auto h-[50vh] pb-[150px]\",children:walletAssets.map(function(data,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full bg-cards text-[14px] rounded-[6px] px-4 py-4 space-x-2 flex items-start justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center justify-center mt-[1px]\",children:/*#__PURE__*/_jsx(\"img\",{src:data.icon,alt:data.name,className:\"w-[30px] rounded-full\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full justify-between items-center font-medium\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"\",children:data.symbol}),/*#__PURE__*/_jsxs(\"span\",{className:\"\",children:[\" \",showBalance?/*#__PURE__*/_jsx(_Fragment,{children:formatNumber(data.balance)}):'******']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full justify-between items-center text-secondary\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-[11px]\",children:data.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[12px]\",children:showBalance?/*#__PURE__*/_jsxs(_Fragment,{children:[\"$\",formatNumber(data.balance*data.price)]}):'******'})]})]})]},index);})})]})}),openInfo&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(openInfo?'flex':'hidden',\" fixed bottom-0 left-0 z-40 right-0 h-[100vh] bg-[#303030c4] flex-col justify-end items-center\"),children:/*#__PURE__*/_jsx(\"div\",{ref:infoRefTwo,className:\"w-full bg-divider shadowtop rounded-tl-[40px] rounded-tr-[40px] relative flex flex-col ease-in duration-300 transition-all justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex taskbg rounded-tl-[40px] rounded-tr-[40px] mt-[2px] justify-center relative flex-col items-center space-y-3 p-4 pt-20 pb-10\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setOpenInfo(false);},className:\"flex items-center justify-center h-[32px] w-[32px] rounded-full bg-[#383838] absolute right-6 top-4 text-center font-medium text-[16px]\",children:/*#__PURE__*/_jsx(IoClose,{size:20,className:\"text-[#9995a4]\"})}),purchasedCards.length<2?/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-center flex-col items-center space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full items-center justify-center flex flex-col space-y-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"w-[50px] flex items-center\",children:/*#__PURE__*/_jsx(CiNoWaitingSign,{size:50,className:\"text-bronze\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-center text-[18px] text-[#ffffff] pt-2 pb-2 uppercase\",children:\"WITHDRAWAL ACCESS LOCKED!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"pb-6 text-[14px] w-full text-center\",children:\"You need to purchase atleast 2 Special Cards in mine activity to unlock withdrawal access! \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center pb-6 pt-4\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/mine\",className:\"bg-btn4 text-[#000] w-full py-[12px] px-6 flex items-center justify-center text-center rounded-[12px] font-medium text-[16px]\",children:\"Purchase Special Cards\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-center flex-col items-center space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full items-center justify-center flex flex-col space-y-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"w-[50px] flex items-center\",children:/*#__PURE__*/_jsx(CiNoWaitingSign,{size:50,className:\"text-bronze\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-center text-[18px] text-[#ffffff] pt-2 pb-2 uppercase\",children:\"LAUNCING SOON.. ANTICIPATE!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"pb-6 text-[14px] w-full text-center\",children:\"Congratulations you have withdrawal access granted! Keep performing tasks and accumulate more tokens. Withdrawal will be unlocked after listing and token launch.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center pb-6 pt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setOpenInfo(false);},className:\"bg-btn4 text-[#000] w-full py-[12px] px-6 flex items-center justify-center text-center rounded-[12px] font-medium text-[16px]\",children:\"Okay, Continue\"})})]})]})})})}),/*#__PURE__*/_jsx(SwapComponent,{openSwapModal:openSwapModal,setOpenSwapModal:setOpenSwapModal})]})});};export default Wallet;","map":null,"metadata":{},"sourceType":"module"}