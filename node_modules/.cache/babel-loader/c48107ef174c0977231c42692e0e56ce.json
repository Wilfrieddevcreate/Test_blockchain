{"ast":null,"code":"import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nexport default (function (listener, isDownloadStream) {\n  var freq = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n  var bytesNotified = 0;\n\n  var _speedometer = speedometer(50, 250);\n\n  return throttle(function (e) {\n    var loaded = e.loaded;\n    var total = e.lengthComputable ? e.total : undefined;\n    var progressBytes = loaded - bytesNotified;\n\n    var rate = _speedometer(progressBytes);\n\n    var inRange = loaded <= total;\n    bytesNotified = loaded;\n    var data = {\n      loaded: loaded,\n      total: total,\n      progress: total ? loaded / total : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null\n    };\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n    listener(data);\n  }, freq);\n});","map":null,"metadata":{},"sourceType":"module"}