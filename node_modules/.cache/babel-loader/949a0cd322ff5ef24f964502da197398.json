{"ast":null,"code":"import _defineProperty from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/wilfr/OneDrive/Documents/maxitapbotlatestversionv2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\wilfr\\\\OneDrive\\\\Documents\\\\maxitapbotlatestversionv2\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import{doc,getDoc,updateDoc}from\"firebase/firestore\";import{db}from'../firebase/firestore';import{IoCloseCircleSharp}from'react-icons/io5';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminSettings=function AdminSettings(){var _useState=useState({coolDownTime:0,tappingGuru:0}),_useState2=_slicedToArray(_useState,2),settings=_useState2[0],setSettings=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSuccessModal=_useState4[0],setShowSuccessModal=_useState4[1];useEffect(function(){fetchSettings();},[]);var fetchSettings=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var docRef,docSnap;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:docRef=doc(db,\"settings\",\"1q01CYx0LFmgLR4wiUxX\");// Replace with your actual document ID\n_context.next=3;return getDoc(docRef);case 3:docSnap=_context.sent;if(docSnap.exists()){setSettings(docSnap.data());}else{console.log(\"No such document!\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchSettings(){return _ref.apply(this,arguments);};}();var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setSettings(_objectSpread(_objectSpread({},settings),{},_defineProperty({},name,value===''?'':Number(value))));};var handleUpdateSettings=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var docRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:docRef=doc(db,\"settings\",\"1q01CYx0LFmgLR4wiUxX\");// Replace with your actual document ID\n_context2.prev=1;_context2.next=4;return updateDoc(docRef,settings);case 4:fetchSettings();setShowSuccessModal(true);// Show success modal\n_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.error(\"Error updating document: \",_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function handleUpdateSettings(){return _ref2.apply(this,arguments);};}();var closeModal=function closeModal(){setShowSuccessModal(false);};return/*#__PURE__*/_jsxs(\"div\",{id:\"refer\",className:\"w-full flex flex-col space-y-4 h-[100vh] scroller pt-4 overflow-y-auto pb-[150px]\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-[20px] font-semibold mb-1\",children:\"Set Default Values\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full flex-wrap gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full sm:w-[49%] gap-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-[13px] pl-1 pb-[2px] font-medium\",children:\"Cool down Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"coolDownTime\",value:settings.coolDownTime,onChange:handleInputChange,placeholder:\"Cool Down Time\",className:\"bg-[#4b4b4b] placeholder:text-[#b9b9b9] text-[#e0e0e0] placeholder:text-[12px] text-[13px] placeholder:font-light h-[55px] border-none outline-none rounded-[10px] flex items-center px-6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full sm:w-[49%] gap-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-[13px] pl-1 pb-[2px] font-medium\",children:\"Tap Guru Boost Value\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"tappingGuru\",value:settings.tappingGuru,onChange:handleInputChange,placeholder:\"Tapping Guru\",className:\"bg-[#4b4b4b] placeholder:text-[#b9b9b9] text-[#e0e0e0] placeholder:text-[12px] text-[13px] placeholder:font-light h-[55px] border-none outline-none rounded-[10px] flex items-center px-6\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateSettings,className:\"bg-green-500 font-semibold text-[15px] rounded-[6px] w-[50%] sm:w-[200px] h-fit px-4 py-3 text-[#fff]\",children:\"Update Settings\"})]}),showSuccessModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal fixed w-full h-full top-0 left-0 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay absolute w-full h-full bg-gray-900 opacity-50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-container bg-[#595D65] w-11/12 md:max-w-md mx-auto rounded-[10px] shadow-lg z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content py-4 text-left px-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end items-center pb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-close cursor-pointer z-50\",onClick:closeModal,children:/*#__PURE__*/_jsx(IoCloseCircleSharp,{size:32,className:\"text-secondary\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Settings have been updated successfully.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center pt-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"modal-close bg-blue-500 text-white p-2 px-6 rounded\",onClick:closeModal,children:\"Close\"})})]})})]})]});};export default AdminSettings;","map":null,"metadata":{},"sourceType":"module"}